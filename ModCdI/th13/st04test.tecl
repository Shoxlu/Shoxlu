#include "main.tecl"
anim { "enemy.anm"; "st01menm.anm"; }
ecli { "default.ecl"; "st01bs.ecl"; }
void main()
{
	flagSet(32);
	enmCreateA("SakuyaBad", 0f, 180f, 250, 100, 1);
	wait(1000);
}

void SakuyaBad()
{
	anmSelect(3);
	anmSetMain(0, 0);
	etNew(0);
	etAim(0, 3);
	etCount(0, 20, 20);
	etSpeed(0, 1f, 0.2f);
	@test126() async;
	while(1)
	{
	etOn(0);
	wait(60);
	}
	wait(10000);
}
void test126()
{
	while(1)
	{
		wait(400);
		enmCreate("Ecl_EtBreak2", 0.0f, 0.0f, 9999, 0, 0);
	}
}
void BFairy1()
{
	var A, B;
	anmSelect(2);
	anmSetMain(0, 40);
	anmSetSprite(1, 135);
	moveVel(rad(180), 1.75f);
	diffI($B, 4, 6, 10, 14);
!E
	rad(55);
!N 
	rad(45);
!H
	rad(35);
!L 
	rad(30);
!*
	%A = [-1];
	@CreatePattern(1, 1, 23, 6, 1, 1, %A, 0f, 2f, 2f);
	etExSet(1, 0, 0, EX_ACCEL, 80, NEG, -0.025f, NEGF);
	etExSet(1, 1, 0, EX_DELETE, 1, NEG, NEGF, NEGF);
	wait(30);
	while(1)
	{
		diffF(%A, rad(55), rad(45), rad(35), rad(30));
		moveVel(0f, 0f);
		times($B)
		{
			etAngle(1, %A, 0f);
			etOn(1);
			F0 = REL_X + cos(%A) * 80f;
			F1 = REL_Y + sin(%A) * 80f;
			F2 = %A;
			enmCreate("LaserBFairy1", 0f, 0f, 1, 1, 1);
!E 
			%A = %A + rad(20);
!NH 
			%A = %A + rad(15);
!L
			%A = %A + rad(10);
!*
		}
		wait(80);
		moveVel(rad(180), 1.75f);
		diffWait(60, 50, 40, 30);
	}
}


void LaserBFairy1(float A, float B, float C)
{
	%A = F2;
	%B = F0;
	%C = F1;
	flagSet(1);
	flagSet(2);
	etNew(2);
	etAim(2, 1);
	etSprite(2, 37, 6);
	wait(80);
	etAngle(2, %A, 0f);
	etOffset(2, %B, %C);
	etSpeed(2, 40f, 40f);
	laserNew(2, 0f, 600f, 0f, 20f);
	laserTiming(2, 60, 1, 60, 20, 0);
	laserStOn(2, 1);
	wait(60);
	playSound(18);
	delete();
}